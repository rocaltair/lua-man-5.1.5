.TH "liblua" "3" "Jan 25, 2016" "5.1.5" "lua API documentation"
.SH NAME
lua_setupvalue - liblua API documentation

.SH PROPERTIES
[-(0|1), +0, \fB-\fP]
.SH SYNOPSIS
const char *lua_setupvalue (lua_State *L, int funcindex, int n);

.SH DESCRIPTION

.sp
Sets the value of a closure's upvalue.
It assigns the value at the top of the stack
to the upvalue and returns its name.
It also pops the value from the stack.
Parameters \fBfuncindex\fP and \fBn\fP are as in the \fBlua_getupvalue\fP
(see \fBlua_getupvalue\fP).

.sp
Returns \fBNULL\fP (and pops nothing)
when the index is greater than the number of upvalues.

The Auxiliary Library

.sp

The \fBauxiliary library\fP provides several convenient functions
to interface C with Lua.
While the basic API provides the primitive functions for all 
interactions between C and Lua,
the auxiliary library provides higher-level functions for some
common tasks.

.sp
All functions from the auxiliary library
are defined in header file \fBlauxlib.h\fP and
have a prefix \fBluaL_\fP.

.sp
All functions in the auxiliary library are built on
top of the basic API,
and so they provide nothing that cannot be done with this API.

.sp
Several functions in the auxiliary library are used to
check C function arguments.
Their names are always \fBluaL_check*\fP or \fBluaL_opt*\fP.
All of these functions throw an error if the check is not satisfied.
Because the error message is formatted for arguments
(e.g., "\fBbad argument #1\fP"),
you should not use these functions for other stack values.